{"name":"Pogoda UMK","type":"virtual_device","properties":{"deviceIcon":1039,"categories":"[\"climate\"]","currentIcon":"1039","log":"","logTemp":"","mainLoop":"local sID = fibaro:getSelfId();\n\nlocal sy = {temp='\\240\\159\\140\\161 ', humid='\\240\\159\\146\\167 ', noise='\\240\\159\\148\\138',\n            co2='\\240\\159\\164\\162', rainfall='\\226\\152\\148\\239\\184\\143',\n            closed_umbrella = '\\240\\159\\140\\130 ', umbrella = '\\226\\152\\130\\239\\184\\143 ',\n            wind='\\240\\159\\140\\172 ', gust='\\240\\159\\146\\168', dir='\\240\\159\\140\\144',\n            skull='\\226\\152\\160\\239\\184\\143️', tts='\\240\\159\\151\\163',\n            sun='\\226\\152\\128\\239\\184\\143', rain='\\240\\159\\140\\167',\n            cloud='\\226\\152\\129\\239\\184\\143️', snow='\\226\\155\\132\\239\\184\\143️',\n            heat='\\240\\159\\140\\158 ', cool='\\226\\157\\132\\239\\184\\143️',\n            flag='\\240\\159\\154\\169 ', sep='\\226\\142\\170', arrowup='\\226\\134\\145 ',\n            arrowdn='\\226\\134\\147'}\n\nif (tonumber(fibaro:getGlobalValue(\"opad1\")) > 0)\n  then\n  parasolka1 = sy.umbrella;\n  else\n  parasolka1 = sy.closed_umbrella;\n  end\n\nif (tonumber(fibaro:getGlobalValue(\"opad24\")) > 0)\n  then\n  parasolka24 = sy.umbrella;\n  else\n  parasolka24 = sy.closed_umbrella;\n  end\n\nfibaro:call(sID, 'setProperty', 'ui.temperatura200.value', sy.temp ..fibaro:getGlobalValue(\"temperatura200\") ..\" °C\" );\nfibaro:call(sID, 'setProperty', 'ui.temperatura5.value', sy.temp ..fibaro:getGlobalValue(\"temperatura5\") ..\" °C\" );\nfibaro:call(sID, 'setProperty', 'ui.temperatura0.value', sy.temp ..fibaro:getGlobalValue(\"temperatura0\") ..\" °C\" );\nfibaro:call(sID, 'setProperty', 'ui.wilgotnosc.value', sy.humid ..fibaro:getGlobalValue(\"wilgotnosc\") ..\" %\" );\nfibaro:call(sID, 'setProperty', 'ui.cisnienie.value', fibaro:getGlobalValue(\"cisnienie\") ..\" hPa\" );\nfibaro:call(sID, 'setProperty', 'ui.opad1.value', parasolka1 ..fibaro:getGlobalValue(\"opad1\") ..\" mm\" );\nfibaro:call(sID, 'setProperty', 'ui.opad24.value', parasolka24 ..fibaro:getGlobalValue(\"opad24\") ..\" mm\" );\nfibaro:call(sID, 'setProperty', 'ui.wiatrS.value', sy.wind ..fibaro:getGlobalValue(\"wiatrS\") ..\" m/s\" );\nfibaro:call(sID, 'setProperty', 'ui.wiatrK.value', sy.flag ..fibaro:getGlobalValue(\"wiatrK\") ..\" °\" );\n\nfibaro:sleep(1*60*1000);","ui.cisnienie.value":"1008.8 hPa","ui.opad1.value":"🌂 0.0 mm","ui.opad24.value":"🌂 0.0 mm","ui.temperatura0.value":"🌡 22.5 °C","ui.temperatura200.value":"🌡 18.9 °C","ui.temperatura5.value":"🌡 21.0 °C","ui.wiatrK.value":"🚩 249 °","ui.wiatrS.value":"🌬 0.2 m/s","ui.wilgotnosc.value":"💧 52 %","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Temp (200cm)","name":"temperatura200","favourite":false,"main":true}]},{"type":"label","elements":[{"id":2,"lua":false,"waitForResponse":false,"caption":"Temp (5cm)","name":"temperatura5","favourite":false,"main":false}]},{"type":"label","elements":[{"id":3,"lua":false,"waitForResponse":false,"caption":"Temp (0cm)","name":"temperatura0","favourite":false,"main":false}]},{"type":"label","elements":[{"id":4,"lua":false,"waitForResponse":false,"caption":"Wilgotność","name":"wilgotnosc","favourite":false,"main":false}]},{"type":"label","elements":[{"id":5,"lua":false,"waitForResponse":false,"caption":"Ciśnienie","name":"cisnienie","favourite":false,"main":false}]},{"type":"label","elements":[{"id":6,"lua":false,"waitForResponse":false,"caption":"Opady (1h)","name":"opad1","favourite":false,"main":false}]},{"type":"label","elements":[{"id":7,"lua":false,"waitForResponse":false,"caption":"Opady (24h)","name":"opad24","favourite":false,"main":false}]},{"type":"label","elements":[{"id":8,"lua":false,"waitForResponse":false,"caption":"Wiatr","name":"wiatrS","favourite":false,"main":false}]},{"type":"label","elements":[{"id":9,"lua":false,"waitForResponse":false,"caption":"Wiatr kierunek","name":"wiatrK","favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}